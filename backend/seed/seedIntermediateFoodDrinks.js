const mongoose = require('mongoose');
const path = require('path');
require('dotenv').config({ path: path.join(__dirname, '../config.env') });

// MongoDB Connection
const MONGO_URI = process.env.MONGO_URI || 'mongodb://localhost:27017/thai-meow';

mongoose.connect(MONGO_URI, {
  useNewUrlParser: true,
  useUnifiedTopology: true,
}).then(() => {
  console.log('âœ“ MongoDB connected for seeding Intermediate Food Drinks');
}).catch((err) => {
  console.error('âœ— MongoDB connection error:', err);
  process.exit(1);
});

// Define Schema
const foodDrinksSchema = new mongoose.Schema({
  thai: String,
  roman: String,
  en: String,
  category: String,
  type: String,
  level: String,
  imageUrl: String,
  emoji: String,
  audioText: String,
  tags: [String],
  isActive: Boolean,
  createdAt: { type: Date, default: Date.now },
  updatedAt: { type: Date, default: Date.now },
}, { collection: 'food_drinks_vocab' });

const FoodDrinksVocab = mongoose.model('FoodDrinksVocab', foodDrinksSchema);

// Seed Data
const foodDrinksData = [
  {
    thai: 'à¸‚à¹‰à¸²à¸§à¸œà¸±à¸”',
    roman: 'khao phat',
    en: 'fried rice',
    category: 'thai-food',
    type: 'dish',
    level: 'Intermediate',
    imageUrl: '/assets/food_drinks/khao_phat.jpg',
    emoji: 'ðŸš',
    audioText: 'à¸‚à¹‰à¸²à¸§à¸œà¸±à¸”',
    tags: ['popular', 'lunch'],
    isActive: true,
  },
  {
    thai: 'à¸œà¸±à¸”à¸à¸°à¹€à¸žà¸£à¸²',
    roman: 'phat kaphrao',
    en: 'basil stir-fry',
    category: 'thai-food',
    type: 'dish',
    level: 'Intermediate',
    imageUrl: '/assets/food_drinks/phat_kaphrao.jpg',
    emoji: 'ðŸ›',
    audioText: 'à¸œà¸±à¸”à¸à¸°à¹€à¸žà¸£à¸²',
    tags: ['spicy', 'popular'],
    isActive: true,
  },
  {
    thai: 'à¸•à¹‰à¸¡à¸¢à¸³à¸à¸¸à¹‰à¸‡',
    roman: 'tom yam goong',
    en: 'tom yum shrimp',
    category: 'thai-food',
    type: 'dish',
    level: 'Intermediate',
    imageUrl: '/assets/food_drinks/tom_yam.jpg',
    emoji: 'ðŸ²',
    audioText: 'à¸•à¹‰à¸¡à¸¢à¸³à¸à¸¸à¹‰à¸‡',
    tags: ['spicy', 'soup'],
    isActive: true,
  },
  {
    thai: 'à¸ªà¹‰à¸¡à¸•à¸³',
    roman: 'som tam',
    en: 'papaya salad',
    category: 'thai-food',
    type: 'dish',
    level: 'Intermediate',
    imageUrl: '/assets/food_drinks/somtam.jpg',
    emoji: 'ðŸ¥—',
    audioText: 'à¸ªà¹‰à¸¡à¸•à¸³',
    tags: ['spicy', 'northeast'],
    isActive: true,
  },
  {
    thai: 'à¸œà¸±à¸”à¹„à¸—à¸¢',
    roman: 'phat thai',
    en: 'pad thai',
    category: 'thai-food',
    type: 'dish',
    level: 'Intermediate',
    imageUrl: '/assets/food_drinks/phat_thai.jpg',
    emoji: 'ðŸœ',
    audioText: 'à¸œà¸±à¸”à¹„à¸—à¸¢',
    tags: ['popular', 'noodles'],
    isActive: true,
  },
  {
    thai: 'à¹à¸à¸‡à¹€à¸‚à¸µà¸¢à¸§à¸«à¸§à¸²à¸™',
    roman: 'kaeng khiao wan',
    en: 'green curry',
    category: 'thai-food',
    type: 'dish',
    level: 'Intermediate',
    imageUrl: '/assets/food_drinks/kaeng_khiao.jpg',
    emoji: 'ðŸ›',
    audioText: 'à¹à¸à¸‡à¹€à¸‚à¸µà¸¢à¸§à¸«à¸§à¸²à¸™',
    tags: ['spicy', 'curry'],
    isActive: true,
  },
  {
    thai: 'à¸‚à¹‰à¸²à¸§à¸¡à¸±à¸™à¹„à¸à¹ˆ',
    roman: 'khao man gai',
    en: 'hainanese chicken rice',
    category: 'thai-food',
    type: 'dish',
    level: 'Intermediate',
    imageUrl: '/assets/food_drinks/khao_man_gai.jpg',
    emoji: 'ðŸš',
    audioText: 'à¸‚à¹‰à¸²à¸§à¸¡à¸±à¸™à¹„à¸à¹ˆ',
    tags: ['mild', 'popular'],
    isActive: true,
  },
  {
    thai: 'à¸à¹‹à¸§à¸¢à¹€à¸•à¸µà¹‹à¸¢à¸§',
    roman: 'kuai tiao',
    en: 'noodles',
    category: 'thai-food',
    type: 'dish',
    level: 'Intermediate',
    imageUrl: '/assets/food_drinks/kuai_tiao.jpg',
    emoji: 'ðŸ²',
    audioText: 'à¸à¹‹à¸§à¸¢à¹€à¸•à¸µà¹‹à¸¢à¸§',
    tags: ['noodles', 'popular'],
    isActive: true,
  },
  {
    thai: 'à¹à¸à¸‡à¸ˆà¸·à¸”',
    roman: 'kaeng chut',
    en: 'clear soup',
    category: 'thai-food',
    type: 'dish',
    level: 'Intermediate',
    imageUrl: '/assets/food_drinks/kaeng_chut.jpg',
    emoji: 'ðŸ²',
    audioText: 'à¹à¸à¸‡à¸ˆà¸·à¸”',
    tags: ['mild', 'soup'],
    isActive: true,
  },
  {
    thai: 'à¹„à¸‚à¹ˆà¹€à¸ˆà¸µà¸¢à¸§',
    roman: 'khai chiao',
    en: 'omelet',
    category: 'thai-food',
    type: 'dish',
    level: 'Intermediate',
    imageUrl: '/assets/food_drinks/khai_chiao.jpg',
    emoji: 'ðŸ¥š',
    audioText: 'à¹„à¸‚à¹ˆà¹€à¸ˆà¸µà¸¢à¸§',
    tags: ['simple', 'breakfast'],
    isActive: true,
  },
  {
    thai: 'à¸™à¹‰à¸³à¹€à¸›à¸¥à¹ˆà¸²',
    roman: 'nam plao',
    en: 'plain water',
    category: 'thai-drink',
    type: 'drink',
    level: 'Intermediate',
    imageUrl: '/assets/food_drinks/nam_plao.jpg',
    emoji: 'ðŸ’§',
    audioText: 'à¸™à¹‰à¸³à¹€à¸›à¸¥à¹ˆà¸²',
    tags: ['water', 'basic'],
    isActive: true,
  },
  {
    thai: 'à¸™à¹‰à¸³à¹à¸‚à¹‡à¸‡',
    roman: 'nam khaeng',
    en: 'ice',
    category: 'thai-drink',
    type: 'modifier',
    level: 'Intermediate',
    imageUrl: '/assets/food_drinks/nam_khaeng.jpg',
    emoji: 'ðŸ§Š',
    audioText: 'à¸™à¹‰à¸³à¹à¸‚à¹‡à¸‡',
    tags: ['modifier', 'cold'],
    isActive: true,
  },
  {
    thai: 'à¸™à¹‰à¸³à¸œà¸¥à¹„à¸¡à¹‰',
    roman: 'nam phonlamai',
    en: 'juice',
    category: 'thai-drink',
    type: 'drink',
    level: 'Intermediate',
    imageUrl: '/assets/food_drinks/nam_phonlamai.jpg',
    emoji: 'ðŸ§ƒ',
    audioText: 'à¸™à¹‰à¸³à¸œà¸¥à¹„à¸¡à¹‰',
    tags: ['juice', 'drink'],
    isActive: true,
  },
  {
    thai: 'à¸Šà¸²à¹€à¸¢à¹‡à¸™',
    roman: 'cha yen',
    en: 'thai iced tea',
    category: 'thai-drink',
    type: 'drink',
    level: 'Intermediate',
    imageUrl: '/assets/food_drinks/cha_yen.jpg',
    emoji: 'ðŸµ',
    audioText: 'à¸Šà¸²à¹€à¸¢à¹‡à¸™',
    tags: ['tea', 'popular'],
    isActive: true,
  },
  {
    thai: 'à¸à¸²à¹à¸Ÿà¹€à¸¢à¹‡à¸™',
    roman: 'kafe yen',
    en: 'iced coffee',
    category: 'thai-drink',
    type: 'drink',
    level: 'Intermediate',
    imageUrl: '/assets/food_drinks/kafe_yen.jpg',
    emoji: 'â˜•',
    audioText: 'à¸à¸²à¹à¸Ÿà¹€à¸¢à¹‡à¸™',
    tags: ['coffee', 'popular'],
    isActive: true,
  },
  {
    thai: 'à¸™à¸¡à¸ªà¸”',
    roman: 'nom sod',
    en: 'fresh milk',
    category: 'thai-drink',
    type: 'drink',
    level: 'Intermediate',
    imageUrl: '/assets/food_drinks/nom_sod.jpg',
    emoji: 'ðŸ¥›',
    audioText: 'à¸™à¸¡à¸ªà¸”',
    tags: ['milk', 'drink'],
    isActive: true,
  },
  {
    thai: 'à¹„à¸¡à¹ˆà¹€à¸œà¹‡à¸”',
    roman: 'mai phet',
    en: 'not spicy',
    category: 'thai-modifier',
    type: 'modifier',
    level: 'Intermediate',
    imageUrl: '',
    emoji: 'ðŸŒ¶ï¸',
    audioText: 'à¹„à¸¡à¹ˆà¹€à¸œà¹‡à¸”',
    tags: ['spice-level', 'request'],
    isActive: true,
  },
  {
    thai: 'à¹€à¸œà¹‡à¸”à¸™à¹‰à¸­à¸¢',
    roman: 'phet noi',
    en: 'less spicy',
    category: 'thai-modifier',
    type: 'modifier',
    level: 'Intermediate',
    imageUrl: '',
    emoji: 'ðŸŒ¶ï¸',
    audioText: 'à¹€à¸œà¹‡à¸”à¸™à¹‰à¸­à¸¢',
    tags: ['spice-level', 'request'],
    isActive: true,
  },
  {
    thai: 'à¹€à¸œà¹‡à¸”à¸¡à¸²à¸',
    roman: 'phet mak',
    en: 'very spicy',
    category: 'thai-modifier',
    type: 'modifier',
    level: 'Intermediate',
    imageUrl: '',
    emoji: 'ðŸŒ¶ï¸',
    audioText: 'à¹€à¸œà¹‡à¸”à¸¡à¸²à¸',
    tags: ['spice-level', 'request'],
    isActive: true,
  },
  {
    thai: 'à¸«à¸§à¸²à¸™à¸™à¹‰à¸­à¸¢',
    roman: 'wan noi',
    en: 'less sweet',
    category: 'thai-modifier',
    type: 'modifier',
    level: 'Intermediate',
    imageUrl: '',
    emoji: 'ðŸ¯',
    audioText: 'à¸«à¸§à¸²à¸™à¸™à¹‰à¸­à¸¢',
    tags: ['sweetness', 'request'],
    isActive: true,
  },
  {
    thai: 'à¸«à¸§à¸²à¸™à¸›à¸à¸•à¸´',
    roman: 'wan pokati',
    en: 'regular sweet',
    category: 'thai-modifier',
    type: 'modifier',
    level: 'Intermediate',
    imageUrl: '',
    emoji: 'ðŸ¯',
    audioText: 'à¸«à¸§à¸²à¸™à¸›à¸à¸•à¸´',
    tags: ['sweetness', 'request'],
    isActive: true,
  },
  {
    thai: 'à¹„à¸¡à¹ˆà¸«à¸§à¸²à¸™',
    roman: 'mai wan',
    en: 'no sugar',
    category: 'thai-modifier',
    type: 'modifier',
    level: 'Intermediate',
    imageUrl: '',
    emoji: 'ðŸ¯',
    audioText: 'à¹„à¸¡à¹ˆà¸«à¸§à¸²à¸™',
    tags: ['sweetness', 'request'],
    isActive: true,
  },
  {
    thai: 'à¹ƒà¸ªà¹ˆà¹„à¸‚à¹ˆ',
    roman: 'sai khai',
    en: 'add egg',
    category: 'thai-modifier',
    type: 'modifier',
    level: 'Intermediate',
    imageUrl: '',
    emoji: 'ðŸ¥š',
    audioText: 'à¹ƒà¸ªà¹ˆà¹„à¸‚à¹ˆ',
    tags: ['ingredient', 'request'],
    isActive: true,
  },
  {
    thai: 'à¹„à¸¡à¹ˆà¹ƒà¸ªà¹ˆà¸œà¸‡à¸Šà¸¹à¸£à¸ª',
    roman: 'mai sai phong chu rot',
    en: 'no MSG',
    category: 'thai-modifier',
    type: 'modifier',
    level: 'Intermediate',
    imageUrl: '',
    emoji: 'ðŸ§‚',
    audioText: 'à¹„à¸¡à¹ˆà¹ƒà¸ªà¹ˆà¸œà¸‡à¸Šà¸¹à¸£à¸ª',
    tags: ['ingredient', 'allergy'],
    isActive: true,
  },
  {
    thai: 'à¹€à¸¡à¸™à¸¹à¹à¸™à¸°à¸™à¸³à¸„à¸·à¸­à¸­à¸°à¹„à¸£',
    roman: 'menu nae nam kheu arai',
    en: 'What is recommended?',
    category: 'thai-phrase',
    type: 'question',
    level: 'Intermediate',
    imageUrl: '',
    emoji: 'ðŸ½ï¸',
    audioText: 'à¹€à¸¡à¸™à¸¹à¹à¸™à¸°à¸™à¸³à¸„à¸·à¸­à¸­à¸°à¹„à¸£',
    tags: ['question', 'menu'],
    isActive: true,
  },
  {
    thai: 'à¸£à¸²à¸„à¸²à¹€à¸—à¹ˆà¸²à¹„à¸«à¸£à¹ˆ',
    roman: 'rakha thao rai',
    en: 'How much?',
    category: 'thai-phrase',
    type: 'question',
    level: 'Intermediate',
    imageUrl: '',
    emoji: 'ðŸ’°',
    audioText: 'à¸£à¸²à¸„à¸²à¹€à¸—à¹ˆà¸²à¹„à¸«à¸£à¹ˆ',
    tags: ['question', 'price'],
    isActive: true,
  },
  {
    thai: 'à¸¡à¸µà¸à¸±à¸šà¸‚à¹‰à¸²à¸§à¸¡à¸±à¸‡à¸ªà¸§à¸´à¸£à¸±à¸•à¸´à¹„à¸«à¸¡',
    roman: 'mi kap khao mang sa wi rat mai',
    en: 'Do you have vegetarian options?',
    category: 'thai-phrase',
    type: 'question',
    level: 'Intermediate',
    imageUrl: '',
    emoji: 'ðŸ¥¬',
    audioText: 'à¸¡à¸µà¸à¸±à¸šà¸‚à¹‰à¸²à¸§à¸¡à¸±à¸‡à¸ªà¸§à¸´à¸£à¸±à¸•à¸´à¹„à¸«à¸¡',
    tags: ['question', 'diet'],
    isActive: true,
  },
  {
    thai: 'à¹à¸žà¹‰à¸­à¸²à¸«à¸²à¸£à¸—à¸°à¹€à¸¥',
    roman: 'phae a han tha le',
    en: 'Allergic to seafood',
    category: 'thai-phrase',
    type: 'phrase',
    level: 'Intermediate',
    imageUrl: '',
    emoji: 'ðŸš«',
    audioText: 'à¹à¸žà¹‰à¸­à¸²à¸«à¸²à¸£à¸—à¸°à¹€à¸¥',
    tags: ['allergy', 'health'],
    isActive: true,
  },
  {
    thai: 'à¸‚à¸­à¸­à¸µà¸à¸«à¸™à¸¶à¹ˆà¸‡à¸—à¸µà¹ˆ',
    roman: 'kho ik neung thi',
    en: 'One more, please',
    category: 'thai-phrase',
    type: 'phrase',
    level: 'Intermediate',
    imageUrl: '',
    emoji: 'ðŸ™',
    audioText: 'à¸‚à¸­à¸­à¸µà¸à¸«à¸™à¸¶à¹ˆà¸‡à¸—à¸µà¹ˆ',
    tags: ['request', 'polite'],
    isActive: true,
  },
  {
    thai: 'à¸ªà¸±à¹ˆà¸‡à¸à¸¥à¸±à¸šà¸šà¹‰à¸²à¸™',
    roman: 'sang klap ban',
    en: 'Takeaway',
    category: 'thai-phrase',
    type: 'phrase',
    level: 'Intermediate',
    imageUrl: '',
    emoji: 'ðŸ ',
    audioText: 'à¸ªà¸±à¹ˆà¸‡à¸à¸¥à¸±à¸šà¸šà¹‰à¸²à¸™',
    tags: ['order-type', 'service'],
    isActive: true,
  },
  {
    thai: 'à¸—à¸²à¸™à¸—à¸µà¹ˆà¸£à¹‰à¸²à¸™',
    roman: 'than thi ran',
    en: 'For here',
    category: 'thai-phrase',
    type: 'phrase',
    level: 'Intermediate',
    imageUrl: '',
    emoji: 'ðŸª‘',
    audioText: 'à¸—à¸²à¸™à¸—à¸µà¹ˆà¸£à¹‰à¸²à¸™',
    tags: ['order-type', 'service'],
    isActive: true,
  },
  {
    thai: 'à¸‚à¸­à¸Šà¹‰à¸­à¸™à¸ªà¹‰à¸­à¸¡à¹€à¸žà¸´à¹ˆà¸¡',
    roman: 'kho chon som pheum',
    en: 'Extra cutlery, please',
    category: 'thai-phrase',
    type: 'phrase',
    level: 'Intermediate',
    imageUrl: '',
    emoji: 'ðŸ¥„',
    audioText: 'à¸‚à¸­à¸Šà¹‰à¸­à¸™à¸ªà¹‰à¸­à¸¡à¹€à¸žà¸´à¹ˆà¸¡',
    tags: ['request', 'service'],
    isActive: true,
  },
  {
    thai: 'à¸„à¸´à¸”à¹€à¸‡à¸´à¸™à¸”à¹‰à¸§à¸¢à¸„à¸£à¸±à¸š',
    roman: 'khit ngoen duai khrap',
    en: 'Check please',
    category: 'thai-phrase',
    type: 'phrase',
    level: 'Intermediate',
    imageUrl: '',
    emoji: 'ðŸ’³',
    audioText: 'à¸„à¸´à¸”à¹€à¸‡à¸´à¸™à¸”à¹‰à¸§à¸¢à¸„à¸£à¸±à¸š',
    tags: ['payment', 'polite'],
    isActive: true,
  },
  {
    thai: 'à¸ˆà¹ˆà¸²à¸¢à¸”à¹‰à¸§à¸¢à¸šà¸±à¸•à¸£à¹„à¸”à¹‰à¹„à¸«à¸¡',
    roman: 'chai duai bat dai mai',
    en: 'Can I pay by card?',
    category: 'thai-phrase',
    type: 'question',
    level: 'Intermediate',
    imageUrl: '',
    emoji: 'ðŸ’³',
    audioText: 'à¸ˆà¹ˆà¸²à¸¢à¸”à¹‰à¸§à¸¢à¸šà¸±à¸•à¸£à¹„à¸”à¹‰à¹„à¸«à¸¡',
    tags: ['payment', 'question'],
    isActive: true,
  },
  {
    thai: 'à¸‚à¸­à¹ƒà¸šà¹€à¸ªà¸£à¹‡à¸ˆ',
    roman: 'kho bai set',
    en: 'Receipt, please',
    category: 'thai-phrase',
    type: 'phrase',
    level: 'Intermediate',
    imageUrl: '',
    emoji: 'ðŸ“„',
    audioText: 'à¸‚à¸­à¹ƒà¸šà¹€à¸ªà¸£à¹‡à¸ˆ',
    tags: ['payment', 'request'],
    isActive: true,
  },
  {
    thai: 'à¹„à¸¡à¹ˆà¹€à¸œà¹‡à¸”à¹„à¸”à¹‰à¹„à¸«à¸¡',
    roman: 'mai phet dai mai',
    en: 'Can it be not spicy?',
    category: 'thai-phrase',
    type: 'question',
    level: 'Intermediate',
    imageUrl: '',
    emoji: 'ðŸŒ¶ï¸',
    audioText: 'à¹„à¸¡à¹ˆà¹€à¸œà¹‡à¸”à¹„à¸”à¹‰à¹„à¸«à¸¡',
    tags: ['request', 'spice'],
    isActive: true,
  },
];

// Seed Function
const seedData = async () => {
  try {
    // Clear existing data
    await FoodDrinksVocab.deleteMany({});
    console.log('âœ“ Cleared existing data');

    // Insert new data
    const result = await FoodDrinksVocab.insertMany(foodDrinksData);
    console.log(`âœ“ Inserted ${result.length} food & drinks vocabulary items`);

    mongoose.connection.close();
    console.log('âœ“ Connection closed');
  } catch (err) {
    console.error('âœ— Seed error:', err);
    mongoose.connection.close();
    process.exit(1);
  }
};

// Run Seeder
seedData();
